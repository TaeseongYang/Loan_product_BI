## íŒ€ì› í”„ë¡œí•„

| 7ï¸âƒ£ğŸ‘¨ | 7ï¸âƒ£ğŸ‘¨ | 7ï¸âƒ£ğŸ‘¨ | 5ï¸âƒ£ğŸ‘© | 5ï¸âƒ£ğŸ‘© |
| :---: | :---: | :---: | :---: | :---: |
| [`ì´ë„í›ˆ`](https://github.com/LEEDOHOON427) | [`ì •ì¬ì—°`](https://github.com/jyjnote) | [`ì–‘íƒœì„±`](https://github.com/TaeseongYang) | [`ë°•ì£¼ì—°`](https://github.com/Parkkjuyeon) | [`ì„ë‚˜ì—°`](https://github.com/limnayean) |

---

# Dacon modeling & analysis project

# </br> <ì£¼ì œ>
</br> :pencil2: í° ì£¼ì œ : Daconì—ì„œ ì œê³µí•œ ë°ì´í„°ë¥¼ í†µí•´ ê³ ê°ì˜ ëŒ€ì¶œ ë“±ê¸‰ì„ ë¶„ë¥˜í•˜ëŠ” ëª¨ë¸ë§ ì‘ì—… ì§„í–‰

- ì„¸ë¶€ ì£¼ì œ : ì˜ˆì¸¡ ì„±ëŠ¥ì´ ë†’ì€ ëª¨ë¸ì„ í†µí•´ ëŒ€ì¶œ ë“±ê¸‰ì´ ë‚®ì€ ê³ ê°ì˜ í–‰ë™ íŒ¨í„´ì„ ë¶„ì„
- ì„¸ë¶€ ì£¼ì œ : ìƒí™˜ë¥ ì„ ë†’ì´ê¸° ìœ„í•œ ëŒ€ì¶œ ìƒí’ˆì„ ì œì•ˆ

```
Q. ëŒ€ì¶œ ë“±ê¸‰ì´ ë‚®ì€ ê³ ê°ì˜ íŒ¨í„´ì„ ë¶„ì„í•œ ì´ìœ ëŠ”?
=> ëŒ€ì¶œì˜ ê²½ìš°ì—ëŠ” ìƒí™˜ë¥ ì— ë”°ë¼ ê¸ˆìœµê¸°ê´€ì˜ ì¬ì • ê±´ì „ì„±ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ë°, ëŒ€ì¶œ ë“±ê¸‰ì´ ë‚®ì€ ê³ ê°ì˜ ê²½ìš°ì— ìƒí™˜ë¥ ì´ ë‚®ê²Œ ì§‘ê²Œ ë¨. 

Q. ìƒí™˜ë¥ ì„ ë†’ì´ê¸° ìœ„í•œ ëŒ€ì¶œ ìƒí’ˆì˜ ì•„ì´ë””ì–´ëŠ”?
=> ìƒí™˜ë¥ ê³¼ ê°€ì¥ ë†’ì€ ìƒê´€ê´€ê³„ë¥¼ ë³´ì´ëŠ” featureë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ ëŒ€ì¶œ ìƒí’ˆì„ ì œì•ˆ.

Q. ê¶ê·¹ì ì¸ ëª©í‘œëŠ”?
=> ê°œì¸í™”ëœ ëŒ€ì¶œ ìƒí’ˆì„ ì œê³µí•˜ê³ , ëŒ€ì¶œ ìœ„í—˜ ê´€ë¦¬ë¥¼ ë³´ë‹¤ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì§€ì›.
=> ëŒ€ì¶œ ìƒí’ˆì˜ ì¡°ê±´ì„ ë” ì •í™•í•˜ê²Œ ì„¤ì •í•˜ì—¬ ê³ ê° ë§Œì¡±ë„ë¥¼ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŒ. 
```

# </br> <ìë£Œ>
</br> :pushpin: ìë£Œ ì¶œì²˜ : Dacon

|ID|ëŒ€ì¶œê¸ˆ|ëŒ€ì¶œê¸°ê°„|ì£¼íƒì†Œìœ ìƒíƒœ|ì—°ê°„ì†Œë“|ì´ê³„ì¢Œìˆ˜|ëŒ€ì¶œëª©ì |ì´ìƒí™˜ì›ê¸ˆ|ì´ìƒí™˜ì´ì|ì´ì—°ì²´ê¸ˆì•¡|ëŒ€ì¶œë“±ê¸‰|
|------|---|------|---|------|---|------|---|------|---|------|
|TRAIN_00000|12480000|36 months|RENT|72000000|15|ë¶€ì±„ í†µí•©|0|0|0|C|
|TRAIN_00001|14400000|60 months|MORTGAGE|130800000|21|ì£¼íƒ ê°œì„ |373572|234060|0|B|
|TRAIN_00002|12000000|36 months|MORTGAGE|96000000|14|ë¶€ì±„ í†µí•©|928644|151944|0|A|
|TRAIN_00003|14400000|36 months|MORTGAGE|132000000|15|ë¶€ì±„ í†µí•©|325824|153108|0|C|	
|TRAIN_00004|18000000|60 months|RENT|71736000|19|ì£¼ìš” êµ¬ë§¤|228540|148956|0|B|
  
```
ì´ì™¸ì—ë„ ë¶€ì±„ ëŒ€ë¹„ì†Œë“ ë¹„ìœ¨, ì—°ì²´ ê¸ˆì•¡, ê·¼ë¡œê¸°ê°„ì˜ featureë“¤ë„ ì¡´ì¬

ëŒ€ì¶œë“±ê¸‰ : A,B,C,D,E,F,G ë“±ê¸‰ì´ ì¡´ì¬í•˜ë©°, ë†’ì€ ë“±ê¸‰ì¼ìˆ˜ë¡ ì‹ ìš© ì ìˆ˜ê°€ ë†’ì€ ê²ƒì„
ëŒ€ì¶œê¸°ê°„ : strì„ ìˆ˜ì¹˜í˜• ìë£Œë¡œ ë³€í™˜ 
ê·¼ë¡œê¸°ê°„ : strì„ ìˆ˜ì¹˜í˜• ìë£Œë¡œ ë³€í™˜
ì£¼íƒì†Œìœ ìƒíƒœ : anyë¥¼ ê°€ì¥ ë¹ˆë„ê°€ ë†’ì€ mortageë¡œ ë³€í™˜
```
â‘  ëŒ€ì¶œ ë“±ê¸‰ì— ë”°ë¥¸ ì§ˆì  ìë£Œ ë¶„ì„ 

- ê·¼ë¡œê¸°ê°„

 </br>![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/27081790-a763-437b-9b9a-bcab623795ad)

- ì£¼íƒì†Œìœ ìƒíƒœ

 </br>![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/5d4b7099-f805-47c7-ad9e-ec48351c51a3)

- ëŒ€ì¶œëª©ì 

 </br>![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/7e7ce39c-f215-47c1-924d-ae5f68941c29)

â‘¡ ëŒ€ì¶œ ë“±ê¸‰ì— ë”°ë¥¸ ì–‘ì  ìë£Œ ë¶„ì„ 

- ëŒ€ì¶œ ê¸ˆì•¡

</br>![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/cf6911df-fd37-4308-b81a-a649740a47a8)

- ëŒ€ì¶œ ê¸°ê°„

 </br>![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/af32c1a3-75e0-40af-bef0-1e6a6d378540)

- ì—°ê°„ ì†Œë“

</br>![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/a852dc5d-717e-4a72-a496-334e86bef3fd)

- ë¶€ì±„ ëŒ€ë¹„ ì†Œë“ ë¹„ìœ¨

</br>![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/abf9d22e-3cc0-4b04-9746-42fb1951f79b)

- ì´ê³„ì¢Œìˆ˜

</br>![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/a2b02dbb-ab5c-4755-8546-984a323091fc)

- ìµœê·¼ 2ë…„ê°„ ì—°ì²´ íšŸìˆ˜

 </br>![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/a6cdcc2f-43aa-43ff-8538-5f394f849368)

- ì´ìƒí™˜ì›ê¸ˆ

 </br>![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/ecc97bf6-ad41-425a-92f5-c9c31e326aeb)

# </br> ëª¨ë¸ë§ë§ ë°©ë²•

```
1. ë°ì´í„° ì „ì²˜ë¦¬ ë‹¨ê³„
=> ê²°ì¸¡ì¹˜ ì²˜ë¦¬ì™€ ë²”ì£¼í˜• ë°ì´í„° ì¸ì½”ë”©ì„ ìˆ˜í–‰

2. ê¸°ë³¸ í†µê³„ ë¶„ì„ ë° ìƒê´€ê´€ê³„ ë¶„ì„
=> ê° ë³€ìˆ˜ë“¤ì˜ ê¸°ë³¸ì ì¸ ìƒê´€ê´€ê³„ ë¶„ì„ì„ í†µí•´ ì£¼ìš” ë³€ìˆ˜ë“¤ ê°„ì˜ ìƒí˜¸ì‘ìš©ê³¼ ì˜í–¥ë ¥ì„ íŒŒì•…, ë˜í•œ ì–´ë–¤ ë³€ìˆ˜ê°€ ëŒ€ì¶œê¸ˆì•¡ ë° ê¸°ê°„ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ íŒŒì•…

3. íŠ¹ì„± ì„ íƒê³¼ í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§
=> ì£¼ìš” ë³€ìˆ˜ë“¤ì„ ì„ íƒí•˜ê³  í•„ìš”ì— ë”°ë¼ ìƒˆë¡œìš´ íŠ¹ì„±ì„ ìƒì„±

4. ë‹¤ì–‘í•œ ì˜ˆì¸¡ ëª¨ë¸ì„ ê°œë°œ ë° ë¹„êµ :
=> Random Forest, Logistic Legression, Gradient Boosting ë“±ì´ í¬í•¨ë˜ê³ , ê° ëª¨ë¸ì˜ ì„±ëŠ¥ì„ ìµœì í™”í•˜ê³  ë¹„êµí•˜ì—¬ ìµœì ì˜ ëª¨ë¸ì„ ì„ íƒ
=> ëª¨ë¸ì˜ ì„±ëŠ¥ í‰ê°€ë¥¼ ìœ„í•´ Kfoldë¥¼ í†µí•œ êµì°¨ ê²€ì¦ì„ ì‚¬ìš©í•˜ê³  f1_macroë¥¼ ì´ìš©í•˜ì—¬ ëª¨ë¸ì„ ì„±ëŠ¥ì„ í‰ê°€

```
|ëª¨ë¸|ì ìˆ˜|
|------|---|
|LGBMClassifier|0.9214193067987015|
|CatBoostClassifier|0.902585399277785|
|XGBClassifier|0.9241019412174871|
|VotingClassifier|0.922350214373026|

â€» optunaë¥¼ í†µí•œ ê° ëª¨ë¸ì˜ í•˜ì´í¼íŒŒë¼ë¯¸í„°ë¥¼ êµ¬í–ˆìŠµë‹ˆë‹¤. 

---
# ëŒ€ì¶œë“±ê¸‰ì´ ë‚®ì€ ê³ ê°ì˜ íŒ¨í„´ ë¶„ì„ 

![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/1cfc3ba9-e1f0-477a-964d-7dbd4a326339)

```
=> ëŒ€ì¶œ ë“±ê¸‰ì´ ê°€ì¥ ë‚®ì€ Gë“±ê¸‰ì˜ ê³ ê° ì¤‘ì—ì„œë„ Gë“±ê¸‰ì˜ í‰ê·  ìƒí™˜ë¥ ë³´ë‹¤ë„ ë‚®ì€ ìƒí™˜ë¥ ì„ ë³´ì´ëŠ” ê³ ê°ì˜ ëŒ€ì¶œëª©ì ì— ë”°ë¥¸ í‰ê·  ëŒ€ì¶œ ê¸ˆì•¡ì„ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„
=> íœ´ê°€ì™€ ì£¼íƒê°œì„ ì—ì„œ ë†’ì€ í‰ê·  ëŒ€ì¶œê¸ˆì•¡ ìˆ˜ì¤€ì„ ë³´ì„
```

![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/052ab09e-18f9-4f16-9b2c-410ddcdbfecb)

```
=> ëŒ€ì¶œ ë“±ê¸‰ì´ ê°€ì¥ ë‚®ì€ Gë“±ê¸‰ì˜ ê³ ê° ì¤‘ì—ì„œë„ Gë“±ê¸‰ì˜ í‰ê·  ìƒí™˜ë¥ ë³´ë„ ë†’ì€ ìƒí™˜ë¥ ì„ ë³´ì´ëŠ” ê³ ê°ì˜ ëŒ€ì¶œëª©ì ì— ë”°ë¥¸ í‰ê·  ëŒ€ì¶œ ê¸ˆì•¡ì„ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„
=> ìœ„ì˜ ìë£Œì™€ ë‹¬ë¦¬ íœ´ê°€ì—ì„œì˜ ëŒ€ì¶œì€ ì§‘ê³„ë˜ì§€ ì•ŠìŒ
=> ëŒ€ì¶œ ë“±ê¸‰ì´ Gë“±ê¸‰ì˜ ê³ ê° ì¤‘ì—ì„œ 'íœ´ê°€'ë¥¼ ëª©ì ìœ¼ë¡œ ëŒ€ì¶œì„ ë°›ëŠ” ê³ ê°ì˜ ê²½ìš°ì—ëŠ” ìƒí™˜ ê°€ëŠ¥ì„±ì´ êµ‰ì¥íˆ ë‚®ë‹¤ëŠ” ê²°ë¡ ì— ë„ë‹¬ 
```
![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/d7af18b6-df35-432b-ae7d-4cb71b6c869e)

```
=> Gë“±ê¸‰ ì¤‘ì—ì„œë„ ìƒí™˜ë¥ ì´ ë‚®ì€ ê·¸ë£¹ì—ì„œ íœ´ê°€ë¥¼ ëª©ì ìœ¼ë¡œ ëŒ€ì¶œì„ ë°›ëŠ” ê²½ìš°ì—ëŠ” êµ‰ì¥íˆ ë‚®ì€ ê·¼ë¡œê¸°ê°„ì„ ë³´ì—¬ì¤Œ
=> ê·¼ë¡œê¸°ê°„ì´ ë‚®ë‹¤ëŠ” ê²ƒì€ ì‚¬íšŒì  ê²½í—˜ì´ ë‹¤ì†Œ ì ì€ ì‚¬íšŒ ì´ˆë…„ìƒì˜ ê°€ëŠ¥ì„±ì´ ë†’ê¸° ë•Œë¬¸ì— ì‚¬íšŒì´ˆë…„ìƒì´ íœ´ê°€ë¥¼ ëª©ì ìœ¼ë¡œ ëŒ€ì¶œì„ ë°›ëŠ” ê²½ìš°ì— ìƒí™˜ë¥ ì´ ë‚®ì„ ìˆ˜ ìˆë‹¤ëŠ” ê²°ë¡ ì— ë„ë‹¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤. 
```

---

# ëŒ€ì¶œë“±ê¸‰ì— ë”°ë¥¸ ìƒí™˜ë¥  ê°ë©´ ëŒ€ì¶œ ìƒí’ˆ ì œì•ˆ 

![KakaoTalk_20240123_143845604](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/8249cd42-6d86-4a47-84da-d19477b44799)

||ì ìˆ˜|ì›”ë³„ì´ìë¶€ë‹´|
|------|---|---|
|Altman_Z_Score|1.0000|-0.20657|
|ì›”ë³„ì´ìë¶€ë‹´|-0.20657|1.0000|

**ë†’ì€ ì´ììœ¨ì€ ê³ ê°ì˜ íì—…ë¥ ì„ ë†’ì„**

=> 'Altman_Z_Score'ì™€ 'ì›”ë³„ì´ìë¶€ë‹´' ê°€ì¤‘ì¹˜ë¥¼ ë¶€ì—¬í•˜ì—¬ ëŒ€ì¶œ ë“±ê¸‰ê³¼ ìƒí™˜ë¥ ì— ë”°ë¥¸ ì´ììœ¨ ê°ë©´ ìƒí’ˆì„ ì œì•ˆ 

```
def create_loan_product(row):
    # ì¡°ê±´ì— ë”°ë¼ ê°ë©´ ëŒ€ì¶œìƒí’ˆ ì—¬ë¶€ë¥¼ ê²°ì •
    if (row['Altman_Z_Score'] <= np.percentile(loan_product_data['Altman_Z_Score'], 20) and
        row['ì›”ë³„ì´ìë¶€ë‹´'] >= np.percentile(loan_product_data['ì›”ë³„ì´ìë¶€ë‹´'], 80) and
        row['ì´ìƒí™˜ì›ê¸ˆ_ëŒ€ë¹„_ëŒ€ì¶œê¸ˆì•¡ë¹„ìœ¨'] <= np.percentile(loan_product_data['ì´ìƒí™˜ì›ê¸ˆ_ëŒ€ë¹„_ëŒ€ì¶œê¸ˆì•¡ë¹„ìœ¨'], 20)and
        row['ëŒ€ì¶œ_ëŒ€ë¹„_ì†Œë“_ë¹„ìœ¨']<=np.percentile(loan_product_data['ëŒ€ì¶œ_ëŒ€ë¹„_ì†Œë“_ë¹„ìœ¨'], 20),
        row['ì´ìƒí™˜ì´ì_ëŒ€ë¹„_ì´ìƒí™˜ì›ê¸ˆ']<=np.percentile(loan_product_data['ì´ìƒí™˜ì´ì_ëŒ€ë¹„_ì´ìƒí™˜ì›ê¸ˆ'], 20)):
        
        # ê°ë©´ ëŒ€ì¶œìƒí’ˆ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê²½ìš°ì—ë§Œ ê°ë©´ë¥  ì„¤ì • í•¨ìˆ˜ ì‹¤í–‰
        # ê°ë©´ë¥  ì„¤ì • í•¨ìˆ˜
        def set_interest_and_reduction_rate(row):
            # ê¸°ë³¸ ê°ë©´ë¥ 
            base_reduction_rate = 0.5

            # í”¼ì²˜ì— ëŒ€í•œ ê°€ì¤‘ì¹˜
            weights = {'ì›”ë³„ì´ìë¶€ë‹´': 0.4, 'Altman_Z_Score': 0.55, 'ì´ìƒí™˜ì›ê¸ˆ_ëŒ€ë¹„_ëŒ€ì¶œê¸ˆì•¡ë¹„ìœ¨': 0.3}

            # ê°€ì¤‘ í‰ê· ì„ í†µí•´ í”¼ì²˜ë“¤ì„ ì¢…í•©í•˜ì—¬ ê°ë©´ë¥  ì„¤ì •
            weighted_sum = sum(row[feature] * weights[feature] for feature in weights)

            # ë“±ê¸‰ì— ë”°ë¼ ì¶”ê°€ ê°ë©´ë¥  ë¶€ì—¬ (ë“±ê¸‰ì´ ë‚®ì„ìˆ˜ë¡ ë” ë§ì€ ê°ë©´)
            additional_grade_reduction = max(0, 0.2 * (10 + row['ëŒ€ì¶œë“±ê¸‰']))

            # ìµœì¢… ê°ë©´ë¥  ê³„ì‚°
            reduction_rate = base_reduction_rate + weighted_sum + additional_grade_reduction

            return reduction_rate

        # ê°ë©´ë¥  ì„¤ì • í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ë°˜í™˜
        return set_interest_and_reduction_rate(row)
    
    else:
        # ê°ë©´ ëŒ€ì¶œìƒí’ˆ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´ 0ì„ ë°˜í™˜
        return 0
```

![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/d631e473-c8ae-42ce-b503-2e367aa3ee39)

```
=> ì‹¤ì œ ê¸ˆìœµê¶Œì—ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì´ììœ¨ì„ ê°€ê³µí•˜ì—¬ ëŒ€ì¶œ ë“±ê¸‰ì— ë”°ë¥¸ ì´ììœ¨ featureë¥¼ ìƒì„± 
=> ëŒ€ì¶œë“±ê¸‰ì— ë”°ë¼ ê°ë©´ ê°ë©´ë˜ëŠ” ìˆ˜ì¤€ì„ í™•ì¸í•  ìˆ˜ ìˆìŒ
```

![image](https://github.com/TaeseongYang/Loan_product_BI/assets/156265617/b05d4078-4e5c-46d8-a94c-98fe463e6b34)

**EDA ê²°ê³¼ ë‚®ì€ ëŒ€ì¶œ ë“±ê¸‰ì˜ ê³ ê°ë“¤ì´ ê°ë©´ ë°›ëŠ” ê²½ìš°ê°€ ë‹¤ìˆ˜ë¥¼ ì°¨ì§€**
- ì´ììœ¨ ê°ë©´ ìƒí’ˆì˜ ê²½ìš°ì—ëŠ” ë‚®ì€ ë“±ê¸‰ì˜ ê³ ê°ì´ ê°ë©´ë˜ëŠ” ê²½ìš°ê°€ ë‹¤ìˆ˜ë¥¼ ì°¨ì§€í•˜ê¸° ë•Œë¬¸ì— ì´ììœ¨ ê°ë©´ë§Œì„ ë…¸ë¦¬ëŠ” ê³ ê°ìœ¼ë¡œ ì¸í•´ ê¸°ì—…ì˜ ì¬ì • ê±´ì •ì„±ì„ ì•…í™”ì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ë„ ì¡´ì¬í•  ìˆ˜ ìˆìŒ
- ë‹¤ë§Œ, ì´ëŠ” 'loan_product'ì— ì¡´ì¬í•˜ëŠ” 'ìƒí™˜ë¥ 'ì˜ ê°€ì¤‘ì¹˜ë¥¼ ë†’ì—¬ ìƒí™˜ë¥ ì´ ë†’ì€ ê³ ê°ì— í•œí•´ì„œ ì´ììœ¨ ê°ë©´ í˜œíƒì´ ê°ˆ ìˆ˜ ìˆë„ë¡ ì„¤ì •
